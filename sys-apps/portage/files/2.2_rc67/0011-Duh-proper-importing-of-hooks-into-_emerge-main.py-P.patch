From 17893780e1522beebc0ff683fa51895dd2e5f6d3 Mon Sep 17 00:00:00 2001
From: Jacob Godserv <jacobgodserv@gmail.com>
Date: Sun, 21 Mar 2010 18:41:03 -0400
Subject: [PATCH 11/52] Duh: proper importing of hooks into _emerge/main.py :P

---
 pym/_emerge/main.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/pym/_emerge/main.py b/pym/_emerge/main.py
index b2b74ea..b06ace8 100644
--- a/pym/_emerge/main.py
+++ b/pym/_emerge/main.py
@@ -28,6 +28,7 @@ bad = create_color_func("BAD")
 import portage.elog
 import portage.dep
 portage.dep._dep_check_strict = True
+import portage.hooks
 import portage.util
 import portage.locks
 import portage.exception
@@ -1181,7 +1182,7 @@ def emerge_main():
 	os.umask(0o22)
 	settings, trees, mtimedb = load_emerge_config()
 	if "hooks" in settings['FEATURES']:
-		HookDirectory('pre-run', settings).execute()
+		portage.hooks.HookDirectory('pre-run', settings).execute()
 	portdb = trees[settings["ROOT"]]["porttree"].dbapi
 	rval = profile_check(trees, myaction)
 	if rval != os.EX_OK:
-- 
1.6.4.4

